# Philippine Union Focus Tree
# created by: dax0102

focus_tree = {
    id = filipino_union_focus
    country = {
        factor = 0
        modifier = {
            tag = PHR
            add = 10
        }
    }

    continuous_focus_position = { x = 100 y = 1200 }

    shared_focus = PHI_industrialization_plan
    shared_focus = PHI_expand_the_army
    shared_focus = PHI_expand_the_navy
    shared_focus = PHI_expand_the_air_force
    shared_focus = PHI_department_of_foreign_affairs

    ######################################################
    #                                                    #
    #                      SOCIALIST                     #
    #                                                    #
    ######################################################

    # The New Republic Proclaimed
    focus = {
        id = PHI_the_new_republic_proclaimed
        icon = GFX_goal_red_star_green_wreath
        x = 4
        y = 0
        cost = 0
        available = { 
            custom_trigger_tooltip = {
                tooltip = unlocked_later
                has_socialist_government = yes
                NOT = { country_exists = PHI }
            }
        }
    }

    # Trade Union Congress
    focus = {
        id = PHI_trade_union_congress
        icon = GFX_goal_red_star_gold_wreath
        x = 0
        y = 1
        cost = 6
        available = {
            has_socialist_government = yes
        }
        prerequisite = { focus = PHI_the_new_republic_proclaimed }
        relative_position_id = PHI_the_new_republic_proclaimed
        completion_reward = { country_event = phi.23 }
    }   

    # Socialism with Filipino Characteristics
    focus = {
        id = PHI_socialism_with_filipino_characteristics
        icon = GFX_goal_ideology_libsoc
        x = -2
        y = 1
        cost = 3
        available = {
            custom_trigger_tooltip = {
                tooltip = unlocked_later
                has_country_flag = PHI_lib_soc_majority_tt
            }
        }
        prerequisite = { focus = PHI_trade_union_congress }
        mutually_exclusive = { focus = PHI_seize_the_means_of_production }
        relative_position_id = PHI_trade_union_congress
        completion_reward = {
            add_political_power = 100
            add_popularity = {
                ideology = libertarian_socialist
                popularity = 0.05
            }
        }
    }

    # Employment Subsidies
    focus = {
        id = PHI_employment_subsidies
        icon = GFX_IRE_heavy_industry
        x = -2
        y = 1
        cost = 6
        available = { has_government = valkist }
        prerequisite = { focus = PHI_socialism_with_filipino_characteristics }
        relative_position_id = PHI_socialism_with_filipino_characteristics
        completion_reward = {
            623 = {
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}

					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
 			}
            624 = {
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}

					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
 			}
        }
    }

    # Housing Programs
    focus = {
        id = PHI_housing_programs
        icon = GFX_goal_factory_complex
        x = 0
        y = 1
        cost = 6
        available = { has_government = libertarian_socialist }
        prerequisite = { focus = PHI_employment_subsidies }
        relative_position_id = PHI_employment_subsidies
        completion_reward = {
            add_ideas = PHI_government_housing
        }
    }

    # Punish the Corrupt
    focus = {
        id = PHI_punish_the_corrupt
        icon = GFX_goal_purge_opposition
        x = 0
        y = 1
        cost = 6
        available = { has_government = libertarian_socialist }
        prerequisite = { focus = PHI_housing_programs }
        relative_position_id = PHI_housing_programs
        completion_reward = {
            add_ideas = PHI_weakened_oligarchy
        }
    }

    # Religious Tolerance
    focus = {
        id = PHI_religious_tolerance
        icon = GFX_goal_faith_and_state
        x = 0
        y = 1
        cost = 6
        available = { has_government = libertarian_socialist }
        prerequisite = { focus = PHI_socialism_with_filipino_characteristics }
        relative_position_id = PHI_socialism_with_filipino_characteristics
        completion_reward = {
            add_ideas = PHI_secular_state
        }
    }

    # Socialist Education
    focus = {
        id = PHI_socialist_education
        icon = GFX_focus_research2
        x = 0
        y = 1
        cost = 6
        available = { has_government = libertarian_socialist }
        prerequisite = { focus = PHI_religious_tolerance }
        relative_position_id = PHI_religious_tolerance
        completion_reward = {
            add_research_slot = 1
            swap_ideas = {
                remove_idea = PHI_marxist_professors
                add_idea = PHI_marxist_professors1
            }
        }
    }

    # For the Motherland
    focus = {
        id = PHI_for_the_motherland
        icon = GFX_goal_LEC_police3
        x = 0
        y = 1
        cost = 6
        prerequisite = { focus = PHI_socialist_education }
        relative_position_id = PHI_socialist_education
        completion_reward = {
            add_ideas = PHI_for_the_country
        }
    }

    # Government Owned and Controlled Corporations
    focus = {
        id = PHI_government_owned_and_controlled_corporations
        icon = GFX_goal_generic_soviet_construction
        x = 0
        y = 2
        cost = 6
        available = { 
            OR = {
                has_government = libertarian_socialist
                has_government = collectivist
                has_government = vanguardist
            }
        }
        prerequisite = {
            focus = PHI_socialism_with_filipino_characteristics
            focus = PHI_seize_the_means_of_production
        }
        relative_position_id = PHI_trade_union_congress
        completion_reward = {
            add_ideas = PHI_government_corporations
        }
    }

    # Redistribute the Haciendas
    focus = {
        id = PHI_redistribute_the_haciendas
        icon = GFX_focus_prc_agrarian_socialism
        x = 0
        y = 1
        cost = 6
        available = { 
            OR = {
                has_government = libertarian_socialist
                has_government = collectivist
                has_government = vanguardist
            }
        }
        prerequisite = { focus = PHI_government_owned_and_controlled_corporations }
        relative_position_id = PHI_government_owned_and_controlled_corporations
        completion_reward = {
            327 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
            623 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
            624 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
            625 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
            626 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
            627 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
            628 = {
                if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}

					}
                    add_extra_state_shared_building_slots = 1
                }
            }
        }
    }

    # Seize the Lands of the Elites
    focus = {
        id = PHI_seize_the_wealth
        icon = GFX_focus_empty_coffers
        x = 0
        y = 1
        cost = 6
        available = { 
            OR = {
                has_government = libertarian_socialist
                has_government = collectivist
                has_government = vanguardist
            }
        }
        prerequisite = { focus = PHI_redistribute_the_haciendas }
        relative_position_id = PHI_redistribute_the_haciendas
        completion_reward = {
            add_ideas = PHI_seized_wealth
        }
    }

    # Seize the Means of Production
    focus = {
        id = PHI_seize_the_means_of_production
        icon = GFX_goal_ideology_vanguardist
        x = 2
        y = 1
        cost = 3
        available = {
            custom_trigger_tooltip = {
                tooltip = unlocked_later
                has_country_flag = PHI_vanguardist_majority_tt
            }
        }
        prerequisite = { focus = PHI_trade_union_congress }
        mutually_exclusive = { focus = PHI_socialism_with_filipino_characteristics }
        relative_position_id = PHI_trade_union_congress
        completion_reward = {
            add_political_power = 100
            add_popularity = {
                ideology = vanguardist
                popularity = 0.05
            }
            hidden_effect = {
                set_politics = {
                    ruling_party = vanguardist
                    elections_allowed = no
                }
            }
        }
    }

    # Spy on our Own Citizens
    focus = {
        id = PHI_spy_on_our_own_citizens
        icon = GFX_goal_NOR_secret_police
        x = 2
        y = 1
        cost = 6
        available = { has_government = vanguardist }
        prerequisite = { focus = PHI_seize_the_means_of_production }
        relative_position_id = PHI_seize_the_means_of_production
        completion_reward = {
            add_ideas = PHI_pcps
        }
    }

    # Public Reeducation
    focus = {
        id = PHI_public_reeducation
        icon = GFX_focus_generic_socialist_science
        x = 0
        y = 1
        cost = 6
        available = { has_government = vanguardist }
        prerequisite = { focus = PHI_spy_on_our_own_citizens }
        relative_position_id = PHI_spy_on_our_own_citizens
        completion_reward = {
            add_research_slot = 1
            swap_ideas = {
                remove_idea = PHI_marxist_professors
                add_idea = PHI_marxist_professors1
            }
        }
    }

    # Forced Conscription
    focus = {
        id = PHI_forced_conscription
        icon = GFX_PRF_integrate_BHC
        x = 0
        y = 1
        cost = 6
        available = { has_government = vanguardist }
        prerequisite = { focus = PHI_public_reeducation }
        relative_position_id = PHI_public_reeducation
        completion_reward = {
            add_ideas = PHI_forced_conscription
        }
    }

    # State Atheism
    focus = {
        id = PHI_state_atheism
        icon = GFX_goal_MAF_Kulturkampf
        x = 0
        y = 1
        cost = 6
        available = { has_government = vanguardist }
        prerequisite = { focus = PHI_seize_the_means_of_production }
        relative_position_id = PHI_seize_the_means_of_production
        completion_reward = {
            add_ideas = PHI_state_atheism
            hidden_effect = {
                set_country_flag = PHI_ATHEIST_STATE
            }
        }
    }

    # Propaganda Campaigns
    focus = {
        id = PHI_propaganda_campaigns
        icon = GFX_goal_generic_propaganda
        x = 0
        y = 1
        cost = 6
        available = { has_government = vanguardist }
        prerequisite = { focus = PHI_state_atheism }
        relative_position_id = PHI_state_atheism
        completion_reward = {
            add_stability = 0.1
            add_war_support = 0.1
            add_popularity = {
                ideology = vanguardist
                popularity = 0.15
            }
        }
    }

    # Establish Quotas
    focus = {
        id = PHI_establish_quotas
        icon = GFX_goal_revolution_tools
        x = 0
        y = 1
        cost = 6
        available = { has_government = vanguardist }
        prerequisite = { focus = PHI_propaganda_campaigns }
        relative_position_id = PHI_propaganda_campaigns
        completion_reward = {
            add_ideas = PHI_new_quotas
        }
    }

    # Lone Red Star
    focus = {
        id = PHI_the_lone_red_star
        icon = GFX_focus_ger_great_red_menace
        x = 0
        y = 1
        cost = 6
        prerequisite = {
            focus = PHI_for_the_motherland
            focus = PHI_forced_conscription
        }
        relative_position_id = PHI_seize_the_wealth
        completion_reward = {
            add_ideas = PHI_the_lone_red_star_idea
        }
    }

    # Unity and Equality
    focus = {
        id = PHI_unity_and_equality_focus
        icon = GFX_goal_commune_politics
        x = 0
        y = 1
        cost = 6
        prerequisite = { focus = PHI_the_lone_red_star }
        relative_position_id = PHI_the_lone_red_star
        completion_reward = {
            add_ideas = PHI_unity_and_equality
        }
    }
}