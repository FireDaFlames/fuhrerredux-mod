# Philippine Union Focus Tree
# created by: dax0102

focus_tree = {
    id = filipino_union_focus
    country = {
        factor = 0
        modifier = {
            tag = PHR
            add = 10
        }
    }

    continuous_focus_position = { x = 1600 y = 1200 }

    shared_focus = PHI_industrialization_plan
    shared_focus = PHI_army_expansion_program
    shared_focus = PHI_start_naval_buildup
    shared_focus = PHI_fund_an_air_force
    shared_focus = PHI_department_of_foreign_affairs

    ######################################################
    #                                                    #
    #                      SOCIALIST                     #
    #                                                    #
    ######################################################

    # The New Republic Proclaimed
    focus = {
        id = PHR_the_new_republic_proclaimed
        icon = GFX_goal_red_star_green_wreath
        x = 4
        y = 0
        cost = 0
        available = { 
            custom_trigger_tooltip = {
                tooltip = unlocked_later
                has_socialist_government = yes
                NOT = { country_exists = PHI }
            }
        }
    }

    # Trade Union Congress
    focus = {
        id = PHR_unified_party_congress
        icon = GFX_focus_HOL_deal_with_left
        x = 0
        y = 1
        cost = 6
        available = {
            has_socialist_government = yes
        }
        bypass = {
            has_country_flag = PHR_had_revolutionary_congress
        }
        prerequisite = { focus = PHR_the_new_republic_proclaimed }
        relative_position_id = PHR_the_new_republic_proclaimed
    }   

    # Pangkat Laborista
    focus = {
        id = PHR_pangkat_laborista
        icon = GFX_goal_ideology_radical_socialist
        x = -2
        y = 1
        cost = 0
        available = {
            has_country_flag = PHR_laborista_victory
        }
        bypass = {
            has_country_flag = PHR_had_revolutionary_congress
        }
        mutually_exclusive = {
            focus = PHR_pangkat_kumonista
            focus = PHR_pangkat_soyalista
        }
        prerequisite = { focus = PHR_unified_party_congress }
        relative_position_id = PHR_unified_party_congress
    }

    # Pangkat Soyalista
    focus = {
        id = PHR_pangkat_soyalista
        icon = GFX_goal_ideology_syndicalist
        x = 0
        y = 1
        cost = 6
        available = {
            has_country_flag = PHR_soyalista_victory
        }
        bypass = {
            has_country_flag = PHR_had_revolutionary_congress
        }
        mutually_exclusive = {
            focus = PHR_pangkat_laborista
            focus = PHR_pangkat_kumonista
        }
        prerequisite = { focus = PHR_unified_party_congress }
        relative_position_id = PHR_unified_party_congress
    }

    # Pangkat Kumonista
    focus = {
        id = PHR_pangkat_kumonista
        icon = GFX_goal_ideology_totalist
        x = 2
        y = 1
        cost = 6
        available = {
            has_country_flag = PHR_kumonista_victory
        }
        bypass = {
            has_country_flag = PHR_had_revolutionary_congress
        }
        mutually_exclusive = {
            focus = PHR_pangkat_laborista
            focus = PHR_pangkat_soyalista
        }
        prerequisite = { focus = PHR_unified_party_congress }
        relative_position_id = PHR_unified_party_congress
    }

    # Better Conditions, Better Wages
    focus = {
        id = PHR_better_conditions_better_wages
        icon = GFX_goal_munitions_factories
        x = -1
        y = 1
        cost = 6
        prerequisite = { focus = PHR_pangkat_laborista }
        relative_position_id = PHR_pangkat_laborista
        completion_reward = {
            increase_ruling_party_popularity_by_15 = yes
            add_ideas = PHR_better_worker_status
        }
    }

    # Improve Union Management
    focus = {
        id = PHR_improve_union_management
        icon = GFX_focus_generic_self_management
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_better_conditions_better_wages }
        relative_position_id = PHR_better_conditions_better_wages 
        completion_reward = {
            swap_ideas = {
                remove_idea = PHR_better_worker_status
                add_idea = PHR_better_worker_status_1
            }
        }
    }

    # Market Socialism
    focus = {
        id = PHR_market_socialism
        icon = GFX_goal_generic_neutrality_focus
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_pangkat_laborista }
        relative_position_id = PHR_pangkat_laborista
        completion_reward = {
            add_offsite_building = {
                building = industrial_complex
                level = 2
            }
            add_offsite_building = {
                building = arms_factory
                level = 2
            }
        }
    }

    # Beginnings of a New Democracy
    focus = {
        id = PHR_beginnings_of_a_new_democracy
        icon = GFX_goal_liberty
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_market_socialism }
        prerequisite = { focus = PHR_improve_union_management }
        prerequisite = { focus = PHR_protect_the_revolution }
        relative_position_id = PHR_market_socialism
        completion_reward = {
            add_ideas = PHR_a_new_philippines
        }
    }

    # Modern Farms
    focus = {
        id = PHR_modern_farms
        icon = GFX_focus_AUS_agriculture
        x = -1
        y = 1
        cost = 6
        prerequisite = { 
            focus = PHR_pangkat_laborista
            focus = PHR_pangkat_soyalista
        }
        relative_position_id = PHR_pangkat_soyalista
        completion_reward = {
            add_tech_bonus = {
                technology = electronics
                bonus = 0.75
                uses = 2
            }
            random_owned_controlled_state = {
                if = {
                    limit = {
                        free_building_slots = {
                            building = industrial_complex
                            size > 0
                            include_locked = yes
                        }

                    }
                    add_extra_state_shared_building_slots = 1
                }
            }
            random_owned_controlled_state = {
                if = {
                    limit = {
                        free_building_slots = {
                            building = industrial_complex
                            size > 0
                            include_locked = yes
                        }

                    }
                    add_extra_state_shared_building_slots = 1
                }
            }
        }
    }

    # Protect the Revolution
    focus = {
        id = PHR_protect_the_revolution
        icon = GFX_goal_revolution_tools
        x = 0 
        y = 2
        cost = 6
        prerequisite = { focus = PHR_modern_farms }
        relative_position_id = PHR_modern_farms
        completion_reward = {
            add_ideas = PHR_department_of_revolutionary_ideals
        }
    }

    # Decentralized Planning
    focus = {
        id = PHR_decentralized_planning
        icon = GFX_goal_economic_control
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_pangkat_soyalista }
        relative_position_id = PHR_pangkat_soyalista
        completion_reward = {
            add_timed_idea = {
                idea = PHR_socialist_economic_plan
                days = 730
            }
        }
    }

    # Breaking the Chains
    focus = {
        id = PHR_breaking_the_chains
        icon = GFX_goal_offensive_army
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_decentralized_planning }
        prerequisite = { focus = PHR_protect_the_revolution }
        prerequisite = { focus = PHR_purge_reactionaries }
        relative_position_id = PHR_decentralized_planning
        completion_reward = {
            add_ideas = PHR_a_new_red_dawn
        }
    }

    # Communal Industrialization
    focus = {
        id = PHR_communal_industrialization
        icon = GFX_goal_state_economy
        x = 1
        y = 1
        cost = 6
        prerequisite = {
            focus = PHR_pangkat_soyalista
            focus = PHR_pangkat_kumonista
        }
        relative_position_id = PHR_pangkat_soyalista
        completion_reward = {
            unlock_decision_category_tooltip = PHR_communal_industrialization_decisions
        }
    }

    # Purge Reactionaries
    focus = {
        id = PHR_purge_reactionaries
        icon = GFX_goal_backstab
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_communal_industrialization }
        relative_position_id = PHR_communal_industrialization
        completion_reward = {
            increase_ruling_party_popularity_by_5 = yes
            add_stability = 0.05
            add_manpower = -1500
        }
    }

    # Resource Nationalization
    focus = {
        id = PHR_resource_nationalization
        icon = GFX_goal_generic_oil_refinery
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_pangkat_kumonista }
        relative_position_id = PHR_pangkat_kumonista
        completion_reward = {
            random_owned_controlled_state = {
                add_resource = {
                    type = oil
                    amount = 10
                }
            }
            random_owned_controlled_state = {
                add_resource = {
                    type = aluminum
                    amount = 10
                }
            }
            random_owned_controlled_state = {
                add_resource = {
                    type = chromium
                    amount = 10
                }
            }
        }
    }

    # Centralized Syndicalism
    focus = {
        id = PHR_centralized_syndicalism
        icon = GFX_goal_syndicalist_lenin
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_resource_nationalization }
        prerequisite = { focus = PHR_purge_reactionaries }
        prerequisite = { focus = PHR_state_quotas }
        relative_position_id = PHR_resource_nationalization
        completion_reward = {
            add_ideas = PHR_socialist_haven
        }
    }

    # Forceful Land Redistribution
    focus = {
        id = PHR_forceful_land_redistribution
        icon = GFX_focus_prc_agrarian_socialism
        x = 1
        y = 1
        cost = 6
        prerequisite = { focus = PHR_pangkat_kumonista }
        relative_position_id = PHR_pangkat_kumonista
        completion_reward = {
            add_stability = 0.015
            add_political_power = -150
            increase_ruling_party_popularity_by_5 = yes
            random_owned_controlled_state = {
                if = {
                    limit = {
                        free_building_slots = {
                            building = industrial_complex
                            size > 0
                            include_locked = yes
                        }

                    }
                    add_extra_state_shared_building_slots = 1
                }
            }
            random_owned_controlled_state = {
                if = {
                    limit = {
                        free_building_slots = {
                            building = industrial_complex
                            size > 0
                            include_locked = yes
                        }

                    }
                    add_extra_state_shared_building_slots = 1
                }
            }
        }
    }

    # State Quotas
    focus = {
        id = PHR_state_quotas
        icon = GFX_goal_Centralised_Government
        x = 0
        y = 2
        cost = 6
        prerequisite = { focus = PHR_forceful_land_redistribution }
        relative_position_id = PHR_forceful_land_redistribution
        completion_reward = {
            add_ideas = PHR_state_quotas_idea
        }
    }
}