ARB_set_british_effects = {
  multiply_variable = { var = british_control_percent value = 0.01 }
  set_variable = { ENG_effect_pp = british_control }
  multiply_variable = { var = ENG_effect_pp value = -0.004 }
  set_variable = { ENG_effect_construction = british_control }
  multiply_variable = { var = ENG_effect_construction value = 0.003 }
  set_variable = { ENG_effect_extraction = british_control }
  multiply_variable = { var = ENG_effect_extraction value = 0.003 }

  if = {
    limit = {
      check_variable = {
        var = british_control
        value = 80
        compare = greater_than_or_equals
      }
    }
    ROOT = {
      country_event = { id = arabia.40 days = 60 }
    }
  }
}

ARB_increase_british_control = {
  if = {
    limit = { has_variable = british_control_temp }
    custom_effect_tooltip = ARB_increase_british_control_tt
    hidden_effect = {
      add_to_variable = { british_control = british_control_temp }
      ARB_set_british_effects = yes
    }
  }
}

ARB_decrease_british_control = {
  if = {
    limit = { has_variable = british_control_temp }
    custom_effect_tooltip = ARB_decrease_british_control_tt
    hidden_effect = {
      subtract_from_variable = { british_control = british_control_temp }
      ARB_set_british_effects = yes
    }
  }
}

ARB_decrease_depression = {
  if = {
    limit = {
      has_idea = ARB_black_wednesday
    }
    custom_effect_tooltip = ARB_decrease_depression_tt
    swap_ideas = {
      remove_idea = ARB_black_wednesday
      add_idea = ARB_black_wednesday_1
    }
  }
  else_if = {
    limit = {
      has_idea = ARB_black_wednesday_1
    }
    custom_effect_tooltip = ARB_decrease_depression_tt
    swap_ideas = {
      remove_idea = ARB_black_wednesday_1
      add_idea = ARB_black_wednesday_2
    }
  }
  else_if = {
    limit = {
      has_idea = ARB_black_wednesday_2
    }
    custom_effect_tooltip = ARB_decrease_depression_tt
    remove_ideas = ARB_black_wednesday_2
  }
}

ARB_decrease_resistance = {
  if = {
    limit = { has_idea = ARB_arab_resistance }
    swap_ideas = {
      remove_idea = ARB_arab_resistance
      add_idea = ARB_arab_resistance_1
    }
  }
  else_if = {
    limit = { has_idea = ARB_arab_resistance_1 }
    swap_ideas = {
      remove_idea = ARB_arab_resistance_1
      add_idea = ARB_arab_resistance_2
    }
  }
  else_if = {
    limit = { has_idea = ARB_arab_resistance_2 }
    remove_idea = ARB_arab_resistance_2
  }
}