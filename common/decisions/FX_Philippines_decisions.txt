# Philippine Decisions
# created by: dax0102

foreign_support = {
    PHI_support_foreign_crusades = {
        icon = GFX_decision_hol_war_on_pacifism
        fire_only_once = yes
        cost = 25

        target_trigger = {
            FROM = {
                OR = {
                    tag = RUS
                    tag = CHI
                    tag = INS
                    tag = SIA
                }
            }
        }

        visible = { 
            FROM = { has_war = yes }
        }

        available = {
            is_subject = no
            NOT = { has_war_with = FROM }
            every_country = {
                limit = { is_in_faction_with = ROOT }
                has_war_with = FROM
            }
        }

        complete_effect = { 
            FROM = { country_event = phi.52 } 
        }
    }
}

foreign_politics = {
    PHI_propose_whitepeace = {
        icon = GFX_decision_hol_war_on_pacifism
        
        target_trigger = {
            FROM = {
                OR = {
                    tag = ENG
                    tag = FRA
                }
            }
        }

        visible = {
            FROM = {
                has_war_with = ROOT
            }
        }

        available = {
            FROM = {
                if = {
                    limit = { 
                        tag = ENG
                    }
                    BEA = { has_capitulated = yes }
                }

                if = {
                    limit = {
                        tag = FRA
                    }
                    FIC = { has_capitulated = yes }
                }
            }
        }

        complete_effect = {
            FROM = {
                country_event = phi.48
            }
        }
    }
}

PHI_seato = {
    PHI_invite_country = {
        target_trigger = {
            FROM = {
                PHI_is_south_east_asian_tag = yes
            }
        }

        visible = {
            country_exists = FROM
            NOT = { is_in_faction_with = FROM }
        }

        available = {
            FROM = {
                NOT = { has_war_with = ROOT }
                is_in_faction = no
            }
        }

        complete_effect = {
            FROM = {
                country_event = phi.27
            }
        }
    }
}

PHI_state_fundings = {
    PHI_fund_research_and_development = {
        icon = GFX_decision_generic_research
        days_remove = 120
        days_re_enable = 40
        cost = 50

        available = { 
            NOT = { 
                has_country_flag = PHI_state_funding_in_progress_tt
            } 
        }

        complete_effect = {
            set_country_flag = PHI_state_funding_in_progress_tt
        }

        remove_effect = {
            clr_country_flag = PHI_state_funding_in_progress_tt
        }

        modifier = {
            consumer_goods_factor = 0.05
            research_speed_factor = 0.1
        }
    }

    PHI_prioritize_construction = {
        icon = GFX_decision_generic_construction
        days_remove = 120
        days_re_enable = 40
        cost = 50

        available = { 
            NOT = { 
                has_country_flag = PHI_state_funding_in_progress_tt
            } 
        }

        complete_effect = {
            set_country_flag = PHI_state_funding_in_progress_tt
        }

        remove_effect = {
            clr_country_flag = PHI_state_funding_in_progress_tt
        }

        modifier = {
            consumer_goods_factor = 0.05
            production_speed_buildings_factor = 0.1
            industry_repair_factor = 0.1
        }
    }

    PHI_aid_workers = {
        icon = GFX_decision_hol_attract_foreign_investors
        days_remove = 120
        days_re_enable = 40
        cost = 50

        available = { 
            NOT = { 
                has_country_flag = PHI_state_funding_in_progress_tt
            } 
        }

        complete_effect = {
            set_country_flag = PHI_state_funding_in_progress_tt
        }

        remove_effect = {
            clr_country_flag = PHI_state_funding_in_progress_tt
        }

        modifier = {
            consumer_goods_factor = 0.05
            industrial_capacity_factory = 0.1
            industrial_capacity_dockyard = 0.1
        }
    }

    PHI_start_social_services = {
        icon = GFX_decision_hol_attract_foreign_investors
        days_remove = 120
        days_re_enable = 40
        cost = 50

        available = { 
            NOT = { 
                has_country_flag = PHI_state_funding_in_progress_tt
            } 
        }

        complete_effect = {
            set_country_flag = PHI_state_funding_in_progress_tt
        }

        remove_effect = {
            clr_country_flag = PHI_state_funding_in_progress_tt
        }

        modifier = {
            consumer_goods_factor = 0.05
            political_power_gain = 0.1
            stability_weekly = 0.1
            monthly_population = 0.1
        }
    }
}

PHI_aeda_decisions = {
    PHI_join_aeda = {
        allowed = {
            PHI_is_south_east_asian_tag = yes
        }

        visible = { 
            NOT = { original_tag = PHI }
            PHI = { has_completed_focus = PHI_found_aeda } 
        }

        available = {
            NOT = {
                OR = {
                    has_government = vanguardist
                    has_government = collectivist
                    has_government = liberatarian_socialist
                }
                OR = {
                    has_idea = export_focus
                    has_idea = free_trade
                }
            }

            every_country = {
                limit = { has_idea = PHI_aeda_member }
                NOT = { has_war_with = ROOT }
            }
        }

        complete_effect = {
            PHI = { country_event = { id = aeda.1 } }
        }
    }
    
    PHI_leave_aeda = {
        allowed = {
            PHI_is_south_east_asian_tag = yes
        }

        visible = { 
            has_idea = PHI_aeda_member
            NOT = { original_tag = PHI }
        }

        complete_effect = {
            remove_ideas = PHI_aeda_member
            hidden_effect = {
                news_event = { id = news.9 days = 1 }
            }
        }
    }

    PHI_invite_to_aeda = {
        cost = 20
        days_re_enable = 30

        target_trigger = {
            FROM = {
                PHI_is_south_east_asian_tag = yes
            }
        }

        allowed = {
            original_tag = PHI
        }

        visible = {
            FROM = {
                NOT = { has_idea = PHI_aeda_member }
            }
        }

        available = {
            FROM = {
                exists = yes
                is_subject = no
                NOT = { has_war_with = ROOT }
            }
        }

        complete_effect = {
            FROM = {
                country_event = aeda.1
            }
        }
    }
}