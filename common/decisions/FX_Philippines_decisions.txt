# Philippine Decisions
# created by: dax0102

political_actions = {
  PHI_dummy = {
    available = {
      PHI_industrialization_complete = yes
    }
    complete_effect = {
      add_political_power = 100
    }
  }
  PHI_halt_refugee_acceptance = {
    cost = 50
    icon = GFX_decision_eng_trade_unions_support
    allowed = { original_tag = PHI }
    visible = {
      has_completed_focus = PHI_grant_more_visas
      has_idea = PHI_more_refugees
    }
    complete_effect = {
      remove_ideas = PHI_more_refugees
    }
  }
  PHI_resume_refugee_acceptance = {
    cost = 50
    icon = GFX_decision_eng_trade_unions_support
    allowed = { original_tag = PHI }
    visible = {
      has_completed_focus = PHI_grant_more_visas
      NOT = { has_idea = PHI_more_refugees }
    }
    complete_effect = {
      add_ideas = PHI_more_refugees
    }
  }
}

PHI_industrialization_plan = {
  PHI_find_new_trading_partners = {
    icon = GFX_decision_generic_naval
    cost = 50
    days_remove = 120
    fire_only_once = yes
    visible = {
      has_idea = PHI_hindered_british_trade
    }
    remove_effect = {
      remove_ideas = PHI_hindered_british_trade
    }
  }
  PHI_pnr_expansion = {
    icon = GFX_decision_generic_construction
    cost = 40
    days_remove = 140
    fire_only_once = yes
    visible = {
      has_completed_focus = PHI_railway_expansion
    }
    remove_effect = {
      set_country_flag = PHI_has_expanded_pnr
      build_railway = {
        level = 5
        build_only_on_allied = yes
        fallback = yes
        path = { 327 624 625 }
        start_state = 623
        target_state = 627
      }
    }
  }
  PHI_invite_investments = {
    icon = GFX_decision_ger_mefo_bills
    cost = 20
    days_remove = 4
    fire_only_once = yes
    targets = { ENG FRA ITA GER JAP USA }
    target_trigger = {
      FROM = {
        NOT = { has_war_with = ROOT }
        NOT = { is_subject_of = ROOT }
      }
    }
    visible = {
      has_completed_focus = PHI_invite_foreign_investors
    }
    remove_effect = {
      FROM = {
        country_event = { id = philippines.4 days = 2 }
      }
    }
  }
  PHI_new_city_construction = {
    icon = GFX_decision_hol_draw_up_staff_plans
    cost = 25
    days_remove = 180
    fire_only_once = yes
    state_target = yes
    targets = { 327 623 624 625 626 627 628 }
    target_trigger = {
      controls_state = FROM
    }
    available = {
      num_of_civilian_factories_available_for_projects > 2
    }
    visible = {
      has_completed_focus = PHI_new_cities
    }
    modifier = {
      civilian_factory_use = 3
    }
    remove_effect = {
      FROM = {
        if = {
          limit = {
            free_building_slots = {
              building = industrial_complex
              size > 0
              include_locked = yes
            }
          }

          add_extra_state_shared_building_slots = 2
          add_building_construction = {
            type = infrastructure
            level = 1
            instant_build = yes
          }
          add_building_construction = {
            type = industrial_complex
            level = 1
            instant_build = yes
          }
          add_building_construction = {
            type = arms_factory
            level = 1
            instant_build = yes
          }
          set_state_flag = PHI_has_built_new_city
        }
      }
    }
  }
  PHI_promote_tourism = {
    icon = GFX_decision_hol_attract_foreign_investors
    cost = 25
    days_remove = 60
    fire_only_once = yes
    state_target = yes
    targets = { 623 624 625 626 }
    target_trigger = {
      controls_state = FROM
    }
    available = {
      num_of_civilian_factories_available_for_projects > 2
    }
    visible = {
      has_completed_focus = PHI_tourism_adventures
    }
    modifier = {
      civilian_factory_use = 1
    }
    remove_effect = {
      FROM = {
        if = {
          limit = {
            free_building_slots = {
              building = industrial_complex
              size > 0
              include_locked = yes
            }
          }

          add_extra_state_shared_building_slots = 1
          add_building_construction = {
            type = infrastructure
            level = 1
            instant_build = yes
          }
          set_state_flag = PHI_has_promoted_tourism
        }
      }
    }
  }
  PHI_irrigation_construction = {
    icon = generic_cement_mixer
    cost = 25
    days_remove = 120
    fire_only_once = yes
    state_target = yes
    targets = { 623 327 628 627 }
    target_trigger = {
      controls_state = FROM
    }
    available = {
      num_of_civilian_factories_available_for_projects > 2
    }
    visible = {
      has_completed_focus = PHI_build_up_irrigation_systems
    }
    modifier = {
      civilian_factory_use = 2
    }
    remove_effect = {
      FROM = {
        if = {
          limit = {
            free_building_slots = {
              building = industrial_complex
              size > 0
              include_locked = yes
            }
          }

          add_extra_state_shared_building_slots = 1
          add_building_construction = {
            type = industrial_complex
            level = 1
            instant_build = yes
          }
          set_state_flag = PHI_has_constructed_irrigation
        }
      }
    }
  }
  PHI_industrial_investments = {
    icon = GFX_decision_eng_trade_unions_support
    cost = 25
    days_remove = 120
    fire_only_once = yes
    state_target = yes
    targets = { 623 327 627 624 }
    target_trigger = {
      controls_state = FROM
    }
    visible = {
      has_completed_focus = PHI_osmena_industrialization_plan
    }
    modifier = {
      civilian_factory_use = 2
    }
    remove_effect = {
      FROM = {
        if = {
          limit = {
            free_building_slots = {
              building = industrial_complex
              size > 0
              include_locked = yes
            }
          }

          add_extra_state_shared_building_slots = 1
          add_building_construction = {
            type = industrial_complex
            level = 1
            instant_build = yes
          }
          set_state_flag = PHI_has_invested_industry
        }
      }
    }
  }
}
