add_namespace = arabia

country_event = { # Intro Event
  id = arabia.0
  title = arabia.0.t
  desc = arabia.0.d
  picture = GFX_report_event_ARB_troops
  is_triggered_only = yes

  option = { # 
    name = arabia.0.a
  }
}

country_event = { # Ikhwan Raid
  id = arabia.1
  title = arabia.1.t
  desc = arabia.1.d
  picture = GFX_report_event_ARB_troops

  trigger = {
    tag = ARB
    country_exists = ARB
    has_idea = ARB_ikhwan_raids
    NOT = { has_war_with = SAU }
  }

  mean_time_to_happen = {
    days = 120
    modifier = {
      factor = 0.75
      check_variable = {
        var = british_control
        value = 50
        compare = greater_than_or_equals
      }
    }
    modifier = {
      factor = 2
      NOT = { controls_state = 1032 }
    }
    modifier = {
      factor = 2
      NOT = { controls_state = 292 }
    }
  }

  option = { # After them!
    name = arabia.1.a
    add_political_power = -5
    add_manpower = -1
  }

  option = { # We'll need make it
    name = arabia.1.b
    add_political_power = -10
  }
}

country_event = { # Hejazi Attack on Nejd
  id = arabia.2
  title = arabia.2.t
  desc = arabia.2.d
  picture = GFX_report_event_ARB_troops
  
  trigger = {
    tag = ARB
    country_exists = ARB
    has_idea = ARB_ikhwan_raids
    NOT = { has_war_with = SAU }
  }

  mean_time_to_happen = {
    days = 75
    modifier = {
      factor = 0.65
      check_variable = {
        var = british_control
        value = 50
        compare = greater_than_or_equals
      }
    }
    modifier = {
      factor = 2
      NOT = { controls_state = 1032 }
    }
    modifier = {
      factor = 2
      NOT = { controls_state = 292 }
    }
  }

  option = { # And don't come back!
    name = arabia.2.a
    add_political_power = 20
  }
}

country_event = { # British Archeologists Arrives
  id = arabia.3
  title = arabia.3.t
  desc = arabia.3.d
  is_triggered_only = yes

  option = { # I hope they find something!
    name = arabia.3.a
    hidden_effect = {
      random_list = {
        40 = { # They are killed by the Ikhwan
          country_event = { id = arabia.4 days = 40 }
        }
        60 = { # They found something
          country_event = { id = arabia.8 days = 60 }
        }
      }
    }
  }
}

country_event = { # Prospectors Reported Missing
  id = arabia.4
  title = arabia.4.t
  desc = arabia.4.d
  picture = GFX_report_event_physics_lab_01
  is_triggered_only = yes

  option = {
    name = arabia.4.a
    hidden_effect = {
      country_event = { id = arabia.5 days = 30 }
    }
  }
}

country_event = { # A Tragedy in Al-Hasa
  id = arabia.5
  title = arabia.5.t
  desc = arabia.5.d
  picture = GFX_report_event_ARB_troops
  is_triggered_only = yes

  option = {
    name = arabia.5.a
    ENG = {
      country_event = { id = arabia.6 days = 3 }
    }
  }
}

country_event = { # British Prospectors Found Dead in Al-Hasa!
  id = arabia.6
  title = arabia.6.t
  desc = arabia.6.d
  picture = GFX_report_event_ARB_troops
  is_triggered_only = yes

  option = {
    name = arabia.6.a
    ARB = {
      country_event = { id = arabia.9 days = 2 }
    }
  }

  option = {
    name = arabia.6.b
    ARB = {
      country_event = { id = arabia.7 days = 2 }
    }
  }
}

country_event = { # RAF Conducts an Air Strike
  id = arabia.7
  title = arabia.7.t
  desc = arabia.7.d
  picture = GFX_report_event_ace_promoted
  is_triggered_only = yes

  option = {
    name = arabia.7.a
    add_political_power = 10
  }
}

country_event = { # Oil Found!
  id = arabia.8
  title = arabia.8.t
  desc = arabia.8.d
  picture = GFX_report_event_physics_lab_02
  is_triggered_only = yes

  option = {
    name = arabia.8.a
    744 = {
      add_resource = {
        type = oil
        amount = 8
      }
    }
  }
}

country_event = { # British Demands an Apology
  id = arabia.9
  title = arabia.9.t
  desc = arabia.9.d
  picture = GFX_report_event_chamberlain
  is_triggered_only = yes

  option = { # Yeah sure why not
    name = arabia.9.a
    ENG = {
      country_event = { id = arabia.10 days = 2 }
    }
  }
}

country_event = { # Hashemite Government Issues an Apology
  id = arabia.10
  title = arabia.10.t
  desc = arabia.10.d
  picture = GFX_report_event_generic_sign_treaty2
  is_triggered_only = yes

  option = {
    name = arabia.10.a
    add_political_power = 10
  }
}

country_event = { # Black Wednesday Hits
  id = arabia.11
  title = arabia.11.t
  desc = arabia.11.d
  picture = GFX_report_event_generic_sign_treaty2
  is_triggered_only = yes

  option = {
    name = arabia.11.a
    add_political_power = -100
    add_ideas = ARB_black_wednesday
    
  }
}

country_event = { # Intelligence Sources
  id = arabia.12
  title = arabia.12.t
  desc = arabia.12.d
  picture = GFX_report_event_spain_civil_war_soldiers
  is_triggered_only = yes

  option = {
    name = arabia.12.a
    set_country_flag = ARB_revolt
    set_country_flag = ARB_revolt_trigger
    activate_mission_tooltip = ARB_saudi_revolt
  }
}

country_event = { # Nejd Revolts!
  id = arabia.13
  title = arabia.13.t
  desc = arabia.13.d
  picture = GFX_report_event_generic_sign_treaty2
  is_triggered_only = yes

  immediate = {
    hidden_effect = {
      SAU = {
        add_state_core = 744
        add_state_core = 292
        add_state_core = 1032
        add_state_core = 678
        transfer_state = 744
        transfer_state = 292
        transfer_state = 1032
        transfer_state = 678
        load_oob = "SAU"
      }
      ARB = {
        remove_state_core = 744
        remove_state_core = 292
        remove_state_core = 1032
        remove_state_core = 678
        add_state_claim = 744
        add_state_claim = 292
        add_state_claim = 1032
        add_state_claim = 678

        set_province_controller = 8004
        set_province_controller = 10892
        set_province_controller = 8060

        declare_war_on = {
          target = SAU
          type = annex_everything
        }
      }
    }
  }

  option = {
    name = arabia.13.a
    hidden_effect = {
      country_event = { id = arabia.14 days = 4 }
    }
  }
}

country_event = { # Rashidi
  id = arabia.14
  title = arabia.14.t
  desc = arabia.14.d
  picture = GFX_report_event_ARB_troops
  is_triggered_only = yes

  immediate = {
    hidden_effect = {
      RAS = {
        add_state_core = 945
        add_state_core = 946
        transfer_state = 945
        transfer_state = 946
      }
      ARB = {
        remove_state_core = 945
        remove_state_core = 946
        add_state_claim = 945
        add_state_claim = 946
        declare_war_on = {
          target = RAS
          type = annex_everything
        }
      }
      SAU = {
        declare_war_on = {
          target = RAS
          type = annex_everything
        }
      }
    }
  }

  option = {
    name = arabia.14.a
  }
}