# Philippine Events
# created by: dax0102

add_namespace = phi

# Intro Event
country_event = {
    id = phi.0
    title = phi.0.t
    desc = phi.0.d

    is_triggered_only = yes

    option = { # Mabuhay ang Pilipinas!
        name = phi.0.a
    }
}

# Refugee Crisis
country_event = {
    id = phi.1
    title = phi.1.t
    desc = phi.1.d
    picture = report_event_iww_demonstration
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        GER = {
            has_completed_focus = GER_form_govt
        }
    }

    mean_time_to_happen = {
        days = 2
    }

    option = { # Introduce an open-door policy
        name = phi.1.a
        ai_chance = {
            base = 80
            modifier = {
                factor = 1.5
                num_of_divisions < 10
            }
        }
        add_timed_idea = {
            idea = PHI_german_refugees
            days = 710
        }
    }
    option = { # Tighten our maritime borders
        name = phi.1.b
        add_stability = 0.025
    }
}

# Status of the Sakdalistas
country_event = {
    id = phi.2
    title = phi.2.t
    desc = phi.2.d
    picture = GFX_report_event_journalists_speech
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        date > 1936.3.2
        NOT = {
            has_government = valkist
        }
    }

    option = { # Ban them
        name = phi.2.a
        add_stability = 0.05
    }
    option = { # Allow
        name = phi.2.b
        add_political_power = 50
        hidden_effect = {
            set_country_flag = PHI_sakdalista_allowed
        }
    }
}

# Quarrels in the Nacionalista
country_event = {
    id = phi.3
    title = phi.3.t
    desc = phi.3.d
    picture = GFX_report_event_journalists_speech
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        date > 1936.4.10
    }

    mean_time_to_happen = {
        days = 1
    }

    option = { # Can't they make a compromise?
        name = phi.3.a
        hidden_effect = {
            country_event = { id = phi.4 days = 14 }
        }
    }
}

# Nacionalista Breaks
country_event = {
    id = phi.4
    title = phi.4.t
    desc = phi.4.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = { # So much for national unity
        name = phi.4.a
        custom_effect_tooltip = PHI_new_liberal_party_tt
        hidden_effect = {
            set_party_name = {
                ideology = market_liberal
                name = PHI_new_liberal_party
                long_name = PHI_new_liberal_party_long
            }
            set_party_name = {
                ideology = social_liberal
                name = PHI_new_liberal_party
                long_name = PHI_new_liberal_party_long
            }
        }
        add_political_power = 10
    }
}

# Trip to Congress
country_event = {
    id = phi.5
    title = phi.5.t
    desc = phi.5.d
    picture = GFX_report_event_german_troops_paris
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        date > 1936.5.18
    }

    mean_time_to_happen = {
        days = 3
    }

    option = { # Survived
        name = phi.5.a
        add_political_power = 50
    }
    option = {
        name = phi.5.b
        kill_ideology_leader = authoritarian_democrat
        create_country_leader = {
            name = "Legislative Assembly"
            desc = "POLITICS_LEGISLATIVE_ASSEMBLY_DESC"
            picture = "Portrait_Philippines_Legislative_Assembly.tga"
            expire = "1970.1.26"
            ideology = authoritarian_democrat_subtype
            traits = { }
        }
        hidden_effect = {
            set_country_flag = PHI_interim_president_dead
            remove_ideas_with_trait = head_of_government
            add_ideas = PHI_Benigno_Aquino_Sr_hog_ade
            country_event = { id = phi.6 days = 14 }
        }
    }
}

# Aftermath of the Assassination
country_event = {
    id = phi.6
    title = phi.6.t
    desc = phi.6.d
    picture = GFX_report_event_generic_strikes

    is_triggered_only = yes

    option = { # Postpone Elections
        name = phi.6.a
        set_politics = {
            ruling_party = authoritarian_democrat
            elections_allowed = no
        }
    }
    option = {
        name = phi.6.b
        add_political_power = 50
    }
}