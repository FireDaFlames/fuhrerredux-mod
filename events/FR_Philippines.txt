# Philippine Events
# created by: dax0102

add_namespace = phi

# Intro Event
country_event = {
    id = phi.0
    title = phi.0.t
    desc = phi.0.d

    is_triggered_only = yes

    option = { # Mabuhay ang Pilipinas!
        name = phi.0.a
    }
}

# Refugee Crisis
country_event = {
    id = phi.1
    title = phi.1.t
    desc = phi.1.d
    picture = report_event_iww_demonstration
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        GER = {
            has_completed_focus = GER_form_govt
        }
    }

    mean_time_to_happen = {
        days = 2
    }

    option = { # Introduce an open-door policy
        name = phi.1.a
        ai_chance = {
            base = 80
            modifier = {
                factor = 1.5
                num_of_divisions < 10
            }
        }
        add_timed_idea = {
            idea = PHI_german_refugees
            days = 710
        }
    }
    option = { # Tighten our maritime borders
        name = phi.1.b
        add_stability = 0.025
    }
}

# Status of the Sakdalistas
country_event = {
    id = phi.2
    title = phi.2.t
    desc = phi.2.d
    picture = GFX_report_event_journalists_speech
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        date > 1936.3.2
        NOT = {
            has_government = valkist
        }
    }

    option = { # Ban them
        name = phi.2.a
        add_stability = 0.05
    }
    option = { # Allow
        name = phi.2.b
        add_political_power = 50
        hidden_effect = {
            set_country_flag = PHI_sakdalista_allowed
        }
    }
}

# Quarrels in the Nacionalista
country_event = {
    id = phi.3
    title = phi.3.t
    desc = phi.3.d
    picture = GFX_report_event_journalists_speech
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        date > 1936.4.10
    }

    mean_time_to_happen = {
        days = 1
    }

    option = { # Can't they make a compromise?
        name = phi.3.a
        hidden_effect = {
            country_event = { id = phi.4 days = 14 }
        }
    }
}

# Nacionalista Breaks
country_event = {
    id = phi.4
    title = phi.4.t
    desc = phi.4.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = { # So much for national unity
        name = phi.4.a
        custom_effect_tooltip = PHI_new_liberal_party_tt
        hidden_effect = {
            set_party_name = {
                ideology = market_liberal
                name = PHI_new_liberal_party
                long_name = PHI_new_liberal_party_long
            }
            set_party_name = {
                ideology = social_liberal
                name = PHI_new_liberal_party
                long_name = PHI_new_liberal_party_long
            }
        }
        add_political_power = 10
    }
}

# Trip to Congress
country_event = {
    id = phi.5
    title = phi.5.t
    desc = phi.5.d
    picture = GFX_report_event_german_troops_paris
    fire_only_once = yes

    trigger = {
        original_tag = PHI
        date > 1936.5.18
    }

    mean_time_to_happen = {
        days = 3
    }

    option = { # Survived
        name = phi.5.a
        add_political_power = 50
    }
    option = {
        name = phi.5.b
        kill_ideology_leader = authoritarian_democrat
        create_country_leader = {
            name = "Legislative Assembly"
            desc = "POLITICS_LEGISLATIVE_ASSEMBLY_DESC"
            picture = "Portrait_Philippines_Legislative_Assembly.tga"
            expire = "1970.1.26"
            ideology = authoritarian_democrat_subtype
            traits = { }
        }
        hidden_effect = {
            set_country_flag = PHI_interim_president_dead

            remove_every_minister = yes
            add_ideas = {
                PHI_Benigno_Aquino_Sr_hog_ade
                PHI_Ferdinand_Marcos_for_sco
                PHI_Serafin_Fausto_eco_sco
                PHI_Jose_Yulo_sec_sco
                PHI_Fidel_Segundo_int_ade
            }
            country_event = { id = phi.6 days = 14 }
        }
    }
}

# Presidential Elections
country_event = {
    id = phi.6
    title = phi.6.t
    desc = phi.6.d
    picture = GFX_report_event_election_vote
    fire_only_once = yes

    is_triggered_only = yes

    trigger = {
        has_elections = yes
        NOT = {
            has_country_flag = PHI_had_1936_elections
        }
    }

    option = { # Nacionalista
        name = phi.6.a

        set_politics = {
            ruling_party = social_conservative
            elections_allowed = yes
        }
        add_popularity = {
            ideology = social_conservative
            popularity = 0.15
        }
        remove_every_minister = yes
        add_ideas = {
            PHI_Manuel_Quezon_hog_sco
            PHI_Manuel_Quadrino_for_sco
            PHI_Jose_G_David_eco_sco
            PHI_Tirano_Craveza_sec_sco
            PHI_James_Wilson_int_sco
        }
        hidden_effect = {
            set_country_flag = PHI_had_1936_elections
            set_country_flag = PHI_nacionalista_victory_tt
            news_event = phnews.1
        }
    }
    option = { # Liberal
        name = phi.6.b

        set_politics = {
            ruling_party = market_liberal
            elections_allowed = yes
        }
        add_popularity = {
            ideology = market_liberal
            popularity = 0.15
        }
        remove_every_minister = yes
        add_ideas = {
            PHI_Manuel_Roxas_hog_mli
            PHI_Joaquin_Elizalde_for_sli
            PHI_Ramon_Magsaysay_eco_mli
            PHI_Alberto_Ramos_sec_sli
        }
        hidden_effect = {
            set_country_flag = PHI_had_1936_elections
            set_country_flag = PHI_liberal_victory_tt
            news_event = phnews.2
        }
    }
    option = { # Sakdalista
        name = phi.6.c

        set_politics = {
            ruling_party = valkist
            elections_allowed = yes
        }
        add_popularity = {
            ideology = valkist
            popularity = 0.15
        }
        remove_every_minister = yes
        add_ideas = {
            PHI_Benigno_Ramos_hog_val
            PHI_Ferdinand_Marcos_for_sco
            PHI_Diosdado_P_Macapagal_eco_sde
            PHI_Jose_G_Lukban_sec_val
            PHI_Benigno_Ramos_int_val
        }
        hidden_effect = {
            set_country_flag = PHI_had_1936_elections
            set_country_flag = PHI_sakdalista_victory_tt
            news_event = phnews.3
        }
    }
}

# General Strike
country_event = {
    id = phi.11
    title = phi.11.t
    desc = phi.11.d

    is_triggered_only = yes

    option = {
        name = phi.11.a
    }
}